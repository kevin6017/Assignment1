/* Kevin McMinn
 * 2-11-2015
 */

package edu.bsu.cs121.kmcminn;

import java.util.ArrayList;
import java.util.Scanner;

public class CS121proj2kmcminn {

	public static void main(String[] args) {
		ArrayList<Player> playerList = new ArrayList<Player>();
		Dice dice = new Dice();
		Scanner keyboard = new Scanner(System.in);
		System.out.println("How many players are playing?");
		int numPlayers = 0;
		while (true) {
			try {
				numPlayers = Integer.parseInt(keyboard.nextLine());
				break;
			} catch (Exception e) {
				System.out.println("That is not an integer. Try again.");
			}
		}
		//Adds the number of players to an array list
		for (int x = 0; x < numPlayers; x++) {
			System.out.println("What is player " + (x + 1) + "'s name?");
			String name = keyboard.nextLine();
			playerList.add(new Player(name));
		}
		//Each player in the array list takes a turn until someone wins
		while (true) {
			for (int x = 0; x < playerList.size(); x++) {
				for (int y = 0; y < playerList.size(); y++) {
					Player a = (Player) playerList.get(y);
					System.out.println(a.getName() + "'s score is: "
							+ a.getScore());
				}
				Player z = (Player) playerList.get(x);
				z.takeTurn(dice, keyboard);
				if (z.hasWon() == true) {
					System.out.println(z.getName() + "has won with a score of "
							+ z.getScore() + "!");
					keyboard.close();
					System.exit(0);
				}
			}
		}

	}
}
